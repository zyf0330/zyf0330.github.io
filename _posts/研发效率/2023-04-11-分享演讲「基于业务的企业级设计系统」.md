---
layout: post
title: '分享演讲「基于业务的企业级设计系统」.md'
date: 2023-04-11
category: 研发效率
---

## 演讲主题介绍和解读

首先大概的总结一下这个 qcon 2022 大会上的演讲内容。

> 本来这个演讲的标题是「基于  **本质**  的企业级设计系统」，不过我个人很不喜欢这种不精确且夸大的说法，在听完后，我相信这个词可以换成  **业务**  。

这个演讲的主题是提出一个  **设计系统**  ，用来支撑企业级也就是2B软件的开发。这个系统已经在多点落地几年，比较成熟了，所以可以作为实践参考。

这是个各方面都偏  **前端**  的演讲，它的业务问题的解决是前端导向的、设计思想是从前端出发的、技术是在前端落地的，而其中提到的其他角色都没有鲜明的技术特点。因此阅读下面内容，需要各位站在前端视角的顶层，看前端内部的各层。



### 什么是企业级软件

尽管我们自己就在做企业级软件，我觉得还是需要先简单描述一下什么是。这对于我们理解这个演讲内容很重要。

打个比方，PingCode 就算是，还有企业财务系统、各种管理系统等等。这些系统的作用是  **为企业内大量重复工作的开展提高效率**  ，因此这样的软件界面有这么几个特点，各种界面内容样式和交互都一致简单整齐划一、交互元素类型少而简单。

> 演讲中提到的这个例子可以加深体会。企业新人总是吐槽工作软件有多难用、没有提示、不知道该点哪儿之类的，这其实是正常现象，因为当工作一段时间变成熟练工以后，那些东西都是多余的，界面上只需要必要的元素和信息，多余的只会减少界面能呈现的信息量，增加分辨难度，降低效率。



### 解释设计系统

那么这个系统能起到什么作用呢，为什么叫设计系统呢？

前面说到，这个系统用来支撑企业级软件的开发，结合企业级软件的特点，不难想到，这个系统的支撑作用在于：它能快速且高质量地开发出具有统一内容样式和交互的软件界面，并且良好维护后续业务变动导致的软件改变。

> 我们反过来想，2C 软件界面不具有这样的特点，这个系统无疑是无法支撑那样软件的开发的。

开发一个业务系统的首要工作就是  **设计**  ，包括  **设计系统框架和组织结构、设计软件界面等等**  ，对于不同软件来说不一而足，最后才是开发实现。而这个系统被称为设计系统，显然它的主要能力是涵盖了设计部分的。

> 这里当然不是说开发实现部分不重要，没有开发实现，设计的结果只是个空壳子，不能拿来使用。  但先设计后开发，绝对是工作基于业务导向的正确流程。



### 具体解读这个设计系统

这个设计系统针对的是企业级软件的界面，它的设计主要指  **软件界面**  的设计。

既然是针对软件界面的设计，那么技术方面无疑是前端的。这里的前端不只是 PC Web 端，还包括移动 APP 端、移动网页端、微信小程序、平板电脑端等。



#### 设计了什么

先说它具体设计了什么。

界面包括下面两部分：

1. 内容和样式。内容就是界面元素，比如标题、输入框、表单、按钮等，样式就是它们的展示效果。
1. 交互。指用户鼠标、键盘、屏幕等输入输出设备和界面内容的交互。


这个系统是用来设计界面的，就是说，这两部分是由这个系统负责产出的。



**看到这里的前端同学们，请回想一下自己的日常开发工作是什么内容，想象一下自己如果既不处理页面元素和样式，又不处理界面交互，那么自己的工作还剩下了什么？！**

要回答这个问题，得先想清楚，什么是元素、样式、交互，什么又是软件，二者之间的关系是什么。

直接给出答案，  **前者都是技术，后者蕴含和反映的是业务**  。一般开发人员，使用编程语言这项技术，构建出蕴含业务逻辑的软件，从而使得软件具备特定的业务能力。



而现在，这个系统负责了界面元素、样式和交互，留给前端开发的工作，那就是业务开发了。



#### 使用效果

结合演讲标题  **基于业务的设计系统**  ，大家应该明白了，这个系统是通过将软件界面的技术部分封装到内部，对业务开发透明，使业务开发人员可以专注于书写软件界面的  **业务**  部分。

而标题里的业务，具体指的就是企业级软件开发业务。



这个系统是这样使用的。

前端业务开发人员，使用该系统提供的基于业务封装的标签，描述出某个界面特定的  **业务逻辑**  。比如，产品经理需要一个表单页面，包括有一个醒目标题、一个有若干字段的表单、一个提交按钮、一个取消按钮，业务开发人员将这些内容对应的标签在界面容器中组合出来。

> 在这个过程中，产品经理和业务开发人员均不关心所涉及到元素的样式和交互甚至是某些类型的排布，因为这些都不是业务逻辑，他们关心的是用户使用这个表单提交什么信息、如何提交，都是业务这个层面的东西。

而  **样式、交互以及基于界面呈现端的内容排布**  ，属于 UI 设计师和交互设计师负责的工作，这些工作的应用是通过系统中另一个接口完成的。这个接口位于标签的内部，对业务是透明的。通过这个接口，样式、交互这些和业务无关的东西，被单独注入进去，和业务分离。



#### 为什么要这么做

企业级软件在界面上要提供统一的风格样式和交互，以及要提供最高的操作效率，所以这些部分封装在统一的标签内部，由专人统一完成，提供出用于书写业务的工具。

就可以实现：基于  **业务种类**  和  **客户端类型**  来设置这些业务元素的样式、交互方式、和操作流程。

> 基于客户端类型这里专门解释一下。  比如一个在 PC Web 上的界面，有着大的横向屏幕观看，使用鼠标、键盘来操作。这个界面换到手机端，就变成了小的竖向屏幕，需要触摸操作。但是这个界面的业务逻辑并没有发生变化，只是界面元素的样式和交互需要根据手机端做适配（比如时间选择器从下拉框 select 变为轮 wheel），甚至是操作流程发生变化（比如一个大的表单被分多节，一节一屏按顺序切换）。



而业务部分，则各不一致，还是需要针对特定界面专门开发。



#### 怎么做到的

> 这里我们不会详细谈前端技术细节，比如如何写出一个内置样式和交互的组件。相信各位前端开发们都能解决这个问题。



我们要谈两个问题：

1. 这个系统怎么做到的，让业务开发专注于写业务，而不会关心或影响到样式和交互
1. 这个系统如何改变了传统的前端开发流程，如何能达成它的目标




先谈第一个问题。

这个系统创建之初，花了很大的精力来确认，提供的业务描述工具长什么样子以及怎么使用，是最优的。

描述语言上，选择了标签而非 JSON、JSX 之类的语言，也非诸如低代码平台和可视化控件拖曳的方式，原因是标签可以最直观地反应界面布局且学习成本小。

而这门语言的语素和语法，比如标签名、属性名、标签组合形式等，也花了一番功夫，以达到描述业务而非技术的目的。整套标签基本不会使人联想到 HTML 标签和属性以及 CSS。当然了，也禁止书写 HTML 和 CSS。

在标签组合形式方面，也提供了一套根据产品经理的需求说明文案来确定元素组织结构的规则，比如「是」则使用属性，「有」则嵌套标签。



第二个问题。

传统前端业务开发流程，大家应该都熟悉，想想我们的开发流程。

而在采用这套系统后，开发流程就变成了：

- 产品经理和业务开发人员合作，产出具有业务意义的界面。每个界面由于业务特殊性，需要单独设计。
- UI、交互设计师和系统基础开发人员合作，产出界面的样式、交互等业务无关的东西。企业级软件界面的元素和客户端种类是有限多的，所以可以统一设计其样式和交互。


再回想一下企业级软件的特点，那么这个系统如何支撑企业级软件开发，各位都有答案了吧。



## 我们是否可借鉴

我认为我们可以部分借鉴这种做法，至少在技术层面。例如可以在封装组件库的时候，尽量将业务无关的东西封装在内部。具体这个事情还是交给各位前端大神们吧😂

但是全盘借鉴是不可行的，不会有那么大的收益。因为多点使用这套系统批量开发和维护企业级软件，而我们没有那么大的开发量。



## 一个思考

用户界面 User Interface 是 interface，功能设计文档会提到接口 interface，TS 编程语言也有 interface。一个 interface 横跨三个领域，那么 interface 到底是啥呢？有兴趣的同学可以思考一下这个问题。

